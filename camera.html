<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Photo and Video Capture</title>
<style>
	* {
	box-sizing: border-box;
	}
	
	/* Container Design */
	.container {
	border: 2px solid #bdc3c7;
	border-top-left-radius: 6px;
	border-top-right-radius: 6px;
	}
	
	.geeks {
	padding: 10px;
	background: #f1f1f1;
	border-top-left-radius: 4px;
	border-top-right-radius: 4px;
	}
	
	/* Input field design */
	input[type=text] {
	width: 100%;
	border-radius: 3px;
	border: none;
	background-color: white;
	margin-top: -8px;
	height: 25px;
	color: gray;
	padding: 5px;
	}
	
	.gfg {
	float: left;
	}
	
	.middle {
	width: 75%;
	position: relative;
	}
	
	.left {
	width: 15%;
	}
	
	.right {
	width: 10%;
	}
	
	.middle i {
	position: absolute;
	left: 430px;
	top: 2px;
	color: gray;
	}
	
	.geeks:after {
	content: "";
	display: table;
	clear: both;
	}
	
	/* Address bar design */
	.bar {
	width: 15px;
	height: 3px;
	margin: 3px 0;
	display: block;
	background-color: #aaa;
	}
	
	.body {
	padding: 15px;
	}
    .button-19 {
  appearance: button;
  background-color: #1899D6;
  border: solid transparent;
  border-radius: 16px;
  border-width: 0 0 4px;
  box-sizing: border-box;
  color: #ff8800;
  cursor: pointer;
  display: inline-block;
  font-family: din-round,sans-serif;
  font-size: 15px;
  font-weight: 700;
  letter-spacing: .8px;
  line-height: 20px;
  margin: 0;
  outline: none;
  overflow: visible;
  padding: 13px 16px;
  text-align: center;
  text-transform: uppercase;
  touch-action: manipulation;
  transform: translateZ(0);
  transition: filter .2s;
  user-select: none;
  -webkit-user-select: none;
  vertical-align: middle;
  white-space: nowrap;
  width: 100%;
}

.button-19:after {
  background-clip: padding-box;
  background-color: #e33d3d;
  border: solid transparent;
  border-radius: 16px;
  border-width: 0 0 4px;
  bottom: -4px;
  content: "";
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: -1;
}

.button-19:main,
.button-19:focus {
  user-select: auto;
}

.button-19:hover:not(:disabled) {
  filter: brightness(1.1);
  -webkit-filter: brightness(1.1);
}

.button-19:disabled {
  cursor: auto;
}

.button-19:active {
  border-width: 4px 0 0;
  background: none;
}
  .p1 {
  font-family: "Times New Roman", Times, serif;
}

.p2 {
  font-family: Arial, Helvetica, sans-serif;
}

.p3 {
  font-family: "Lucida Console", "Courier New", monospace;
}
   h1 {text-align: center;}
     h2 {text-align: center;}
       h3 {text-align: center;}
  .popup {
    display: none;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 300px;
    height: 300px;
    background: url('data:image/png;base64,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') no-repeat center;
 
.form-container {
      width: 300px;
      margin: auto;
      padding: 30px;
      border: 1px solid #bdc3c7;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .form-container input {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #bdc3c7;
      border-radius: 4px;
    }
    .form-container button {
      padding: 10px 20px;
      background-color: #1899D6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  
</style>
</head>
<body>
  <h1>Photo and Video Capture</h1>
  <video id="video" width="640" height="480" autoplay></video>
  <br>
  <button id="capture-photo">Capture Photo</button>
  <button id="start-recording">Start Recording</button>
  <button id="stop-recording" disabled>Stop Recording</button>
  <button id="switch-camera">Switch Camera</button>
  <br>
  <canvas id="canvas" width="640" height="480"></canvas>
  <br>
  <a id="download-photo" style="display:none;" download="photo.png">Download Photo</a>
  <br>
  <video id="recorded-video" width="640" height="480" controls></video>
  <br>
  <a id="download-video" style="display:none;" download="video.webm">Download Video</a>

  <script>
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const context = canvas.getContext('2d');
    const capturePhotoButton = document.getElementById('capture-photo');
    const startRecordingButton = document.getElementById('start-recording');
    const stopRecordingButton = document.getElementById('stop-recording');
    const switchCameraButton = document.getElementById('switch-camera');
    const downloadPhotoLink = document.getElementById('download-photo');
    const recordedVideo = document.getElementById('recorded-video');
    const downloadVideoLink = document.getElementById('download-video');
    
    let mediaRecorder;
    let recordedChunks = [];
    let currentStream;
    let currentDeviceIndex = 0;
    let devices = [];
    
    navigator.mediaDevices.enumerateDevices()
      .then(deviceInfos => {
        devices = deviceInfos.filter(device => device.kind === 'videoinput');
        initializeStream();
      })
      .catch(error => console.error('Error accessing media devices.', error));
    
    function initializeStream() {
      if (currentStream) {
        currentStream.getTracks().forEach(track => track.stop());
      }
      const videoSource = devices[currentDeviceIndex].deviceId;
      const constraints = {
        video: { deviceId: videoSource ? { exact: videoSource } : undefined },
        audio: true
      };
    
      navigator.mediaDevices.getUserMedia(constraints)
        .then(stream => {
          currentStream = stream;
          video.srcObject = stream;
          setupMediaRecorder(stream);
        })
        .catch(error => console.error('Error accessing media devices.', error));
    }
    
    function setupMediaRecorder(stream) {
      mediaRecorder = new MediaRecorder(stream);
      mediaRecorder.ondataavailable = function(event) {
        if (event.data.size > 0) {
          recordedChunks.push(event.data);
        }
      };
      mediaRecorder.onstop = function() {
        const blob = new Blob(recordedChunks, { type: 'video/webm' });
        recordedChunks = [];
        const url = URL.createObjectURL(blob);
        recordedVideo.src = url;
        downloadVideoLink.style.display = 'inline';
        downloadVideoLink.href = url;
      };
    }
    
    capturePhotoButton.addEventListener('click', () => {
      context.drawImage(video, 0, 0, canvas.width, canvas.height);
      const dataUrl = canvas.toDataURL('image/png');
      downloadPhotoLink.style.display = 'inline';
      downloadPhotoLink.href = dataUrl;
    });
    
    startRecordingButton.addEventListener('click', () => {
      mediaRecorder.start();
      startRecordingButton.disabled = true;
      stopRecordingButton.disabled = false;
    });
    
    stopRecordingButton.addEventListener('click', () => {
      mediaRecorder.stop();
      startRecordingButton.disabled = false;
      stopRecordingButton.disabled = true;
    });
    
    switchCameraButton.addEventListener('click', () => {
      currentDeviceIndex = (currentDeviceIndex + 1) % devices.length;
      initializeStream();
    });
  </script>
</body>
</html>
